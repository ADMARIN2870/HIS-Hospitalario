doctype html
html
  head
    meta(charset="utf-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Sistema Hospitalario San Luis
    // Agregar Bootstrap CSS
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css")
    link(rel="stylesheet", href="/estilos.css")
    link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css")
    style.
      .sidebar {
        width: 240px;
        background-color: #004080;
        color: white;
        padding: 20px;
        position: fixed;
        top: 0;
        bottom: 0;
        display: flex;
        flex-direction: column;
        height: 100vh;
        overflow-y: auto;
      }

      .sidebar h2 {
        font-size: 1.4em;
        margin-bottom: 25px;
        text-align: center;
        font-weight: bold;
      }

      details summary {
        cursor: pointer;
        font-weight: bold;
        padding: 10px;
        color: #fff;
        background: none;
        display: flex;
        align-items: center;
        gap: 10px;
        border-radius: 6px;
        transition: background 0.3s;
      }

      details summary:hover {
        background-color: #0059b3;
      }

      details[open] summary::after {
        content: "\f078";
        font-family: 'Font Awesome 6 Free';
        font-weight: 900;
        margin-left: auto;
      }

      details:not([open]) summary::after {
        content: "\f054";
        font-family: 'Font Awesome 6 Free';
        font-weight: 900;
        margin-left: auto;
      }

      details ul {
        list-style: none;
        padding-left: 30px;
        margin-top: 5px;
        background-color: #004080;
      }

      details ul li a {
        color: white;
        text-decoration: none;
        display: block;
        padding: 6px 10px;
        font-size: 0.9em;
        font-weight: normal;
        border-radius: 4px;
        margin-left: -10px;
      }

      details ul li a:hover {
        background-color: #0059b3;
      }

      details ul li a i {
        display: none;
      }

      .main-content {
        margin-left: 240px; 
        padding: 20px;
        min-height: 100vh;
        background-color: #f8f9fa;
      }

      header {
        background-color: #004080;
        color: white;
        padding: 10px 20px;
        margin-bottom: 20px;
        border-radius: 5px;
      }

  body
    .wrapper
      if session && session.user
        aside.sidebar
          h2 Sistema de Gestión
          nav
            details.submenu-pacientes
              summary
                i.fas.fa-users
                |  Pacientes
              ul
                li: a(href="/pacientes/nuevo") Nuevo Paciente
                li: a(href="/pacientes") Lista de pacientes

            details.submenu-internaciones
              summary
                i.fas.fa-bed
                | Internaciones
              ul
                li: a(href="/internaciones/nueva") Nueva internación
                li: a(href="/internaciones") Lista de internaciones
                li: a(href="/internaciones/buscar") Buscar por paciente

            details.submenu-medicos
              summary
                i.fas.fa-user-md
                | Médicos
              ul
                li: a(href="/medicos/nuevo") Nuevo Médico
                li: a(href="/medicos") Lista de médicos
                li: a(href="/medicos/especialidades") Especialidades

            details.submenu-enfermeros
              summary
                i.fas.fa-user-nurse
                | Enfermeros
              ul
                li: a(href="/enfermeros/nuevo") Nuevo enfermero
                li: a(href="/enfermeros") Lista de enfermeros
                li: a(href="/enfermeros/turnos") Turnos asignados

            details.submenu-camas
              summary
                i.fas.fa-procedures
                | Camas
              ul
                li: a(href="/camas/nueva") Nueva cama
                li: a(href="/camas") Lista de camas
                li: a(href="/camas/ocupadas") Camas ocupadas
                li: a(href="/camas/limpieza") Camas en limpieza

            details.submenu-habitaciones
              summary
                i.fas.fa-hospital
                | Habitaciones
              ul
                li: a(href="/habitaciones/nueva") Nueva Habitacion
                li: a(href="/habitaciones") Lista de habitaciones
                li: a(href="/habitaciones/capacidad") Capacidad por ala

            details.submenu-evaluaciones
              summary
                i.fas.fa-user-nurse
                | Enfermería
              ul
                li: a(href="/evaluaciones/nueva") Nueva Evaluacion
                li: a(href="/evaluaciones") Listar evaluaciones
                li: a(href="/evaluaciones/paciente") Por paciente
                li: a(href="/evaluaciones/fecha") Por fecha

            details.submenu-controlmedico
              summary
                i.fas.fa-heartbeat
                | Evaluaciones Médicas
              ul
                li: a(href="/controlmedico/nueva") Nueva Evaluación
                li: a(href="/controlmedico") Listar evaluaciones
                li: a(href="/controlmedico/paciente") Por paciente
                li: a(href="/controlmedico/fecha") Por fecha

            details.submenu-usuarios
              summary
                i.fas.fa-user-cog
                | Usuarios
              ul
                li: a(href="/usuarios/nuevo") Nuevo usuario
                li: a(href="/usuarios") Lista de usuarios

            details
              summary
                i.fas.fa-sign-out-alt
                | Cerrar sesión
              ul
                li: a(href="/login/logout") Logout

      
      .main-content
        header.header-bar
          h1 Sistema Hospitalario San Luis
          if session && session.user
            p Bienvenido #{session.user.username} (#{session.user.puesto})

        main
          block content

  
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")


